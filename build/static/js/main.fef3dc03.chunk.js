(this["webpackJsonprandom-film"]=this["webpackJsonprandom-film"]||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},15:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(8),i=a.n(o),s=(a(15),a(6)),c=a.n(s),l=a(9),u=a(1),m=a(2),p=a(4),d=a(3),v=a(5),h=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("form",{className:"getMovie",onSubmit:this.props.getMovie},n.a.createElement("button",{className:"getMovie__btn"},"Get movie"))}}]),t}(n.a.Component),b=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("form",{className:"delMovie",onSubmit:this.props.delMovie},n.a.createElement("button",null,"Del movie"))}}]),t}(n.a.Component),f=function(e){return n.a.createElement("div",{className:"poster-wrapper"},e.title&&n.a.createElement("div",{className:"poster-container"},n.a.createElement("p",{className:"poster__descr"},e.title,"(".concat(parseInt(e.release),")")),n.a.createElement("img",{className:"poster__img",src:"https://image.tmdb.org/t/p/w342/".concat(e.poster)})))},g="82b270dc96b69476d16ea855c6387d3b",M=function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={id:void 0,title:void 0,release:void 0,poster:void 0,error:void 0,movieStorage:new Map},a.getRandomNumber=function(e,t){return+Math.floor(Math.random()*e+t)},a.getMovie=function(){var e=Object(l.a)(c.a.mark((function e(t){var r,n,o,i,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),r=100,n=a.getRandomNumber(r,0),o=Math.floor(n/20)+1,i=n%20,e.next=7,fetch("https://api.themoviedb.org/3/movie/top_rated?api_key=".concat(g,"&language=en-US&page=").concat(o));case 7:return s=e.sent,e.next=10,s.json();case 10:if(l=e.sent,!localStorage.getItem(l.results[i].id)){e.next=15;break}return a.state.movieStorage.set(l.results[i].id,"skipped"),a.getMovie(),e.abrupt("return");case 15:if(!a.state.movieStorage.has(l.results[i].id)){e.next=20;break}if(a.state.movieStorage.size!=r){e.next=18;break}return e.abrupt("return");case 18:return a.getMovie(),e.abrupt("return");case 20:a.setState({id:l.results[i].id,title:l.results[i].title,release:l.results[i].release_date,poster:l.results[i].poster_path,error:""}),a.state.movieStorage.set(a.state.id,"skipped");case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.delMovie=function(e){e.preventDefault(),localStorage.setItem(a.state.id,"deleted"),a.getMovie()},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"main"},n.a.createElement(f,{id:this.state.id,title:this.state.title,release:this.state.release,poster:this.state.poster}),n.a.createElement(h,{getMovie:this.getMovie}),n.a.createElement(b,{delMovie:this.delMovie}))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.fef3dc03.chunk.js.map